<header class="topbar">
  <div class="left">
    <button class="settings-btn" (click)="showSettings = true">Settings</button>
  </div>
  <div class="center"></div>
  <div class="right">
    <button class="action" (click)="toggleStartPause()">{{ timer.running ? 'Pause' : 'Start' }}</button>
    <button class="action" (click)="timer.reset()">Reset</button>
  </div>
</header>

<div class="board">
  <div class="player white" [class.active]="timer.activePlayer === 0" (click)="playerClick(0)">
    <div class="label">White</div>
    <div class="time">{{ timer.displayTime(0) }}</div>
    <div class="meta">Moves: {{ timer.moveCount[0] }}</div>
  </div>

  <div class="player black" [class.active]="timer.activePlayer === 1" (click)="playerClick(1)">
    <div class="label">Black</div>
    <div class="time">{{ timer.displayTime(1) }}</div>
    <div class="meta">Moves: {{ timer.moveCount[1] }}</div>
  </div>
</div>

<!-- Settings modal -->
<div class="modal-backdrop" *ngIf="showSettings">
  <div class="modal">
    <h3>Clock Settings</h3>
    <div class="preset-row">
      <button (click)="minutes=5; increment=0">5 | 0</button>
      <button (click)="minutes=3; increment=0">3 | 0</button>
      <button (click)="minutes=10; increment=5">10 | 5</button>
    </div>

    <label class="large-label">Minutes
      <input class="large-input" type="number" min="1" [(ngModel)]="minutes" />
    </label>
    <label class="large-label">Increment (s)
      <input class="large-input" type="number" min="0" [(ngModel)]="increment" />
    </label>
    <div class="modal-actions">
      <button class="primary" (click)="applySettings(); showSettings = false">Apply</button>
      <button class="secondary" (click)="showSettings = false">Close</button>
    </div>
  </div>
</div>
